<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Nanum+Gothic&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

    <title>제이쿼리 연습하기 나홀로 링크 메모장 | 부트스트랩 연습하기</title>

    <style>
        * {
            font-family: 'Jua', sans-serif;
            font-family: 'Nanum Gothic', sans-serif;
        }
        
        .wrap {
            width: 900px;
            margin: 10px auto;
        }
        
        .comment {
            color: blue;
            font-weight: bold;
        }
        
        .post-box {
            width: 500px;
            margin: 20px auto;
        }
    </style>

    <script>
        function order(){
           let name = $('#order_name').val();
           let count = $('#order_count').val();
           let address = $('#order_address').val();
           let phone = $('#order_phone').val();
           
           if(name==''){
               alert('이름을 입력해주세요');
               $('#order_name').focus();
           }else if (count==''){
               alert('수량을 입력해주세요');
               $('#order_count').focus();
           }else if (address==''){
               alert('주소를 입력해주세요');
               $('#order_address').focus();
           }else if (phone==''){
               alert('번호를 입력해주세요');
               $('#order_phone').focus();
           }
        }
         function q1() {
            // 여기에 코드를 입력하세요
            let tag = $('#names-q1'); //최적화
            tag.empty();
                        
            $.ajax({
            type: "GET", // GET 방식으로 요청한다.
            url: "http://openapi.seoul.go.kr:8088/6d4d776b466c656533356a4b4b5872/json/bikeList/1/99",
            data: {}, // 요청하면서 함께 줄 데이터 (GET 요청시엔 비워두세요)
            
            success: function(response){ // 서버에서 준 결과를 response라는 변수에 담음
                    let data = response['rentBikeStatus']['row'];
                    
                for(let i = 0; i<data.length; i++){
                    let bike_data = data[i];
                    let site = bike_data['stationName'];
                    let total = bike_data['rackTotCnt'];
                    let parking_cnt = bike_data['parkingBikeTotCnt'];
                    console.log(site, total, parking_cnt); // 서버에서 준 결과를 이용해서 나머지 코드를 작성                         
                    
                        let temp_html1 = `
                        <tr>
                        <td>${site}</td>
                        <td>${total}</td>
                        <td>${parking_cnt}</td>
                        </tr>`;
                           
                   if(parking_cnt==0){
                       temp_html1 = `
                        <tr>
                        <td class = "zero">${site}</td>
                        <td class = "zero">${total}</td>
                        <td class = "zero">${parking_cnt}</td>
                        </tr>`;
                   }                   
                    tag.append(temp_html1);    
                                       
                  }
                
            }
            })
         }
    </script>
</head>

<body>
    <div class="wrap">

        <div width="900px" , align="center">
            <img src="http://blogfiles.naver.net/MjAxODAyMDJfMTQ1/MDAxNTE3NTQ3NzAwNTQ2.yfOuNawfzcRP9tlLi4zrP7vzgWIwV9S1R_kManKuFgQg.Q4UqZLMKAH_QJnovVYH9-ovYMJjHnYSsqVXbQ3PWqXQg.JPEG.admobile21/%B3%D7%B3%D7%C4%A1%C5%B2.jpg"
                alt="">
        </div>

        <div class="post-box">
            <p class="h2">치킨을 먹자 <small class="text-muted"> 가격:15,000/개</small></p>
            <label> 다양한 치킨을 만나 봅시다. 후라이드, 양념, 간장 등등 </label>
            <label> 달러-원 환율 :  </label>
            <hr class="my-4">
        </div>

        <div class="form-post post-box">
            <p class="h2">주문하기 </p>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">이름</span>
                </div>
                <input id="order_name" type="text" class="form-control" placeholder="이름" aria-label="Username" aria-describedby="basic-addon1">
            </div>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <label class="input-group-text" for="inputGroupSelect01">수량</label>
                </div>
                <select class="custom-select" id="inputGroupSelect01">
                    <option id="order_count" selected>수량 입력하세요</option>
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                </select>
            </div>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">주소</span>
                </div>
                <input id="order_address" type="text" class="form-control" placeholder="주소" aria-label="Username" aria-describedby="basic-addon1">
            </div>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">전화번호</span>
                </div>
                <input id="order_phone" type="text" class="form-control" placeholder="전화번호" aria-label="Username" aria-describedby="basic-addon1">
            </div>
            <button onclick="order()" onclick="q1()" type="submit" class="btn btn-primary">주문하기</button>
        </div>

        <div class="question-box">
            <button onclick="q1()">업데이트</button>
            <table>
                <thead>
                    <tr>
                        <td>거치대 위치</td>
                        <td>거치대 수</td>
                        <td>현재 거치된 따릉이 수</td>
                    </tr>
                </thead>
                <tbody id="names-q1">
                    <tr>
                        <td>102. 망원역 1번출구 앞</td>
                        <td>22</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>103. 망원역 2번출구 앞</td>
                        <td>16</td>
                        <td>0</td>
                    </tr>
                    <tr>
                        <td>104. 합정역 1번출구 앞</td>
                        <td>16</td>
                        <td>0</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    </div>
</body>

</html>